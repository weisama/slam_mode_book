## 1.非水平摆放雷达

模块可以适配任意位姿摆放的雷达，正确设置参数，可以使得得出的坐标为机器人自身坐标，而非仅仅只能得到雷达自身坐标。

例如：1️⃣为了感知前方障碍物，雷达向前倾斜以扫到前方环境；2️⃣室外无高大参照物，雷达倒装在无人机底部用地面建图定位。

### 1.1在机器人坐标系下得到位姿

机器人自身坐标系用FLU（front-left-up）即前左上坐标系描述，如图所示：无人机前为x，左为y，上为z。

坐标系的表示除了xyz位置，还有yaw/pitch/roll三个欧拉角：

| 角度 | 英文名 | 旋转轴 | 描述 |
|------|--------|--------|------|
| **偏航角** | Yaw  | Z轴 | 绕垂直轴左右转向（如机器人原地自转） |
| **俯仰角** | Pitch | Y轴 | 绕横向轴上下俯仰（如机器人抬头/低头） |
| **横滚角** | Roll | X轴 | 绕纵向轴左右翻滚（如机器人左右倾斜） |

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/ed2fddda-9f7f-4595-9403-796285d86c79" width="80%">
    </td>
  </tr>
</table>

举例：如左图，定义雷达手持支架与桌面的接触点中心为原点，建立FLU机器人坐标系。

在机器人坐标系下，雷达位置可以表述为：**x=3，y=0，z=10，yaw=0，pitch=45，roll=0**

### 1.2正确设置模块参数

连接上位机后进入到参数设置界面，将机器人坐标系下雷达坐标的参数填入，点击写入参数并断电重启

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/bafbadfa-ecdc-4d03-aa6c-bd30dad6d74d" width="80%">
    </td>
  </tr>
</table>

重启后，相较于默认全为0的参数，模块输出的坐标参考系变为机器人坐标系，而非默认的雷达坐标系

## 2.可视化界面过滤点云

上位机的可视化界面设置了z轴过滤，可以过滤掉z轴上非设定范围的点云，使环境结构更清晰。


如图，通过设置z轴上下限，过滤掉房间天花板和地板，只剩下物品和房间墙壁：

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/e4f2d084-0f5f-4a58-a323-ed6b97711425" width="80%">
    </td>
  </tr>
</table>

如图：无z轴过滤，箭头和轨迹被天花板的点云遮挡

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/1c53daa5-4066-47f5-86cd-14d1610a8046" width="80%">
    </td>
  </tr>
</table>

如图：过滤天花板点云

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/15a9fed8-7832-4b9f-b5b7-f35f2a55d14a" width="80%">
    </td>
  </tr>

## 3.设置览沃MID360雷达的IP

准备一台有网口的windows电脑，使用系统搜索找到网络连接

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/816adeea-8bfa-4b5b-8f43-79ea941f0ec9" width="80%">
    </td>
  </tr>

找到以太网，右键属性

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/b8bd369c-631c-4664-90d4-98ba74a94142" width="80%">
    </td>
  </tr>

修改IPv4协议属性

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/a359a6d7-1226-4ad6-bba5-d342964f150d" width="80%">
    </td>
  </tr>

修改IP地址如下：

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/bad7dc85-6dbe-4ca9-b5d9-d8cd9b651c47" width="80%">
    </td>
  </tr>

览沃官网下载上位机

[下载连接](https://www.livoxtech.com/cn/downloads)

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/c6c9ff29-cbee-4a50-a147-69c35d9b44e0" width="80%">
    </td>
  </tr>

雷达上电后网线连接电脑，打开览沃上位机，可以看到雷达点云，左上角点击设置

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/248885c1-0cb0-4755-ab81-a8f126688def" width="80%">
    </td>
  </tr>

设置雷达IP如图，点击确认，重新上电则修改成功

<table>
  <tr>
    <td style="border: 10px solid black; padding: 0;">
      <img src="https://github.com/user-attachments/assets/f8db1f52-8e77-4e9c-bfc4-82af7cd9b43c" width="60%">
    </td>
  </tr>

